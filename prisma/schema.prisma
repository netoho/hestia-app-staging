generator client {
  provider        = "prisma-client"
  output          = "../src/prisma/generated/prisma-client"
  previewFeatures = []
}

datasource db {
  provider = "postgresql"
}

model User {
  id                    String    @id @default(cuid())
  name                  String?
  email                 String?   @unique
  emailVerified         DateTime?
  avatarUrl             String?
  password              String?
  role                  UserRole  @default(STAFF)
  phone                 String?
  address               String?
  isActive              Boolean   @default(true)
  invitationToken       String?   @unique
  invitationTokenExpiry DateTime?
  passwordSetAt         DateTime?
  createdAt             DateTime  @default(now())
  updatedAt             DateTime  @updatedAt
  resetToken            String?   @unique
  resetTokenExpiry      DateTime?
  accounts              Account[]
  createdPolicies       Policy[]  @relation("CreatedByUser")
  managedPolicies       Policy[]  @relation("ManagedByUser")
  cancelledPolicies     Policy[]  @relation("CancelledByUser")
  sessions              Session[]
}

model Account {
  id                String  @id @default(cuid())
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
  user              User    @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@unique([provider, providerAccountId])
}

model Session {
  id           String   @id @default(cuid())
  sessionToken String   @unique
  userId       String
  expires      DateTime
  user         User     @relation(fields: [userId], references: [id], onDelete: Cascade)
}

model VerificationToken {
  identifier String
  token      String   @unique
  expires    DateTime

  @@unique([identifier, token])
}

model SystemConfig {
  id                 String   @id @default(cuid())
  investigationFee   Float    @default(200)
  defaultTokenExpiry Int      @default(7)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model Package {
  id               String   @id @default(cuid())
  name             String
  price            Float
  description      String
  features         String
  ctaText          String
  ctaLink          String
  highlight        Boolean
  percentage       Float?
  minAmount        Float?
  shortDescription String?
  isActive         Boolean  @default(true)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  policies         Policy[]
}

model Policy {
  id                        String           @id @default(cuid())
  policyNumber              String           @unique @default(cuid())
  rentAmount                Float
  contractLength            Int              @default(12)
  guarantorType             GuarantorType
  packageId                 String?
  totalPrice                Float
  tenantPercentage          Float            @default(100)
  landlordPercentage        Float            @default(0)
  tenantPaymentMethod       String?
  tenantRequiresCFDI        Boolean          @default(false)
  tenantCFDIData            String?
  hasIVA                    Boolean          @default(false)
  issuesTaxReceipts         Boolean          @default(false)
  securityDeposit           Float?
  maintenanceFee            Float?
  maintenanceIncludedInRent Boolean          @default(false)
  rentIncreasePercentage    Float?
  paymentMethod             String?
  createdById               String
  managedById               String?
  status                    PolicyStatus     @default(DRAFT)
  currentStep               String           @default("initial")
  submittedAt               DateTime?
  approvedAt                DateTime?
  rejectedAt                DateTime?
  activatedAt               DateTime?
  expiresAt                 DateTime?
  reviewNotes               String?
  rejectionReason           String?
  cancelledAt               DateTime?
  cancellationReason        PolicyCancellationReason?
  cancellationComment       String?
  cancelledById             String?
  cancelledBy               User?            @relation("CancelledByUser", fields: [cancelledById], references: [id])
  createdAt                 DateTime         @default(now())
  updatedAt                 DateTime         @updatedAt
  internalCode              String?
  paymentStatus             PaymentStatus?
  avals                     Aval[]
  contracts                 Contract[]
  incidents                 Incident[]
  investigation             Investigation?
  jointObligors             JointObligor[]
  landlords                 Landlord[]
  payments                  Payment[]
  createdBy                 User             @relation("CreatedByUser", fields: [createdById], references: [id])
  managedBy                 User?            @relation("ManagedByUser", fields: [managedById], references: [id])
  package                   Package?         @relation(fields: [packageId], references: [id])
  activities                PolicyActivity[]
  documents                 PolicyDocument[]
  propertyDetails           PropertyDetails?
  validationNotes           ReviewNote[]
  tenant                    Tenant?

  @@index([status])
  @@index([createdById])
  @@index([managedById])
  @@index([status, createdAt])
}

model PropertyDetails {
  id                            String           @id @default(cuid())
  policyId                      String           @unique
  propertyAddressId             String?          @unique
  parkingSpaces                 Int?
  parkingNumbers                String?
  isFurnished                   Boolean          @default(false)
  hasPhone                      Boolean          @default(false)
  hasElectricity                Boolean          @default(true)
  hasWater                      Boolean          @default(true)
  hasGas                        Boolean          @default(false)
  hasCableTV                    Boolean          @default(false)
  hasInternet                   Boolean          @default(false)
  otherServices                 String?
  utilitiesInLandlordName       Boolean          @default(false)
  hasInventory                  Boolean          @default(false)
  hasRules                      Boolean          @default(false)
  rulesType                     RulesType?
  petsAllowed                   Boolean          @default(false)
  propertyDeliveryDate          DateTime?
  contractSigningDate           DateTime?
  contractSigningAddressId      String?          @unique
  createdAt                     DateTime         @default(now())
  updatedAt                     DateTime         @updatedAt
  propertyDescription           String?
  propertyType                  PropertyType?
  contractSigningAddressDetails PropertyAddress? @relation("ContractSigningAddress", fields: [contractSigningAddressId], references: [id])
  policy                        Policy           @relation(fields: [policyId], references: [id], onDelete: Cascade)
  propertyAddressDetails        PropertyAddress? @relation(fields: [propertyAddressId], references: [id])
}

model Landlord {
  id                       String                  @id @default(cuid())
  policyId                 String
  isPrimary                Boolean                 @default(false)
  isCompany                Boolean                 @default(false)
  firstName                String?
  middleName               String?
  paternalLastName         String?
  maternalLastName         String?
  rfc                      String?
  curp                     String?
  companyName              String?
  companyRfc               String?
  legalRepFirstName        String?
  legalRepMiddleName       String?
  legalRepPaternalLastName String?
  legalRepMaternalLastName String?
  legalRepPosition         String?
  legalRepRfc              String?
  legalRepPhone            String?
  legalRepEmail            String?
  email                    String
  phone                    String
  workPhone                String?
  personalEmail            String?
  workEmail                String?
  address                  String
  addressId                String?                 @unique
  bankName                 String?
  accountNumber            String?
  clabe                    String?
  accountHolder            String?
  occupation               String?
  employerName             String?
  monthlyIncome            Float?
  propertyDeedNumber       String?
  propertyRegistryFolio    String?
  requiresCFDI             Boolean                 @default(false)
  cfdiData                 String?
  accessToken              String?                 @unique
  tokenExpiry              DateTime?
  informationComplete      Boolean                 @default(false)
  completedAt              DateTime?
  verificationStatus       ActorVerificationStatus @default(PENDING)
  verifiedAt               DateTime?
  verifiedBy               String?
  rejectionReason          String?
  rejectedAt               DateTime?
  createdAt                DateTime                @default(now())
  updatedAt                DateTime                @updatedAt
  additionalInfo           String?                 @db.Char(1000)
  documents                ActorDocument[]
  addressDetails           PropertyAddress?        @relation("LandlordAddress", fields: [addressId], references: [id])
  policy                   Policy                  @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([policyId])
  @@index([policyId, isPrimary])
}

model Tenant {
  id                           String                  @id @default(cuid())
  policyId                     String                  @unique
  tenantType                   TenantType              @default(INDIVIDUAL)
  firstName                    String?
  middleName                   String?
  paternalLastName             String?
  maternalLastName             String?
  nationality                  NationalityType?        @default(MEXICAN)
  curp                         String?
  rfc                          String?
  passport                     String?
  companyName                  String?
  companyRfc                   String?
  legalRepFirstName            String?
  legalRepMiddleName           String?
  legalRepPaternalLastName     String?
  legalRepMaternalLastName     String?
  legalRepId                   String?
  legalRepPosition             String?
  legalRepRfc                  String?
  legalRepPhone                String?
  legalRepEmail                String?
  companyAddress               String?
  email                        String
  phone                        String
  workPhone                    String?
  personalEmail                String?
  workEmail                    String?
  currentAddress               String?
  addressId                    String?                 @unique
  occupation                   String?
  employerName                 String?
  employerAddress              String?
  employerAddressId            String?                 @unique
  position                     String?
  monthlyIncome                Float?
  incomeSource                 String?
  previousLandlordName         String?
  previousLandlordPhone        String?
  previousLandlordEmail        String?
  previousRentAmount           Float?
  previousRentalAddress        String?
  previousRentalAddressId      String?                 @unique
  rentalHistoryYears           Int?
  paymentMethod                String?
  requiresCFDI                 Boolean                 @default(false)
  cfdiData                     String?
  accessToken                  String?                 @unique
  tokenExpiry                  DateTime?
  informationComplete          Boolean                 @default(false)
  completedAt                  DateTime?
  verificationStatus           ActorVerificationStatus @default(PENDING)
  verifiedAt                   DateTime?
  verifiedBy                   String?
  rejectionReason              String?
  rejectedAt                   DateTime?
  createdAt                    DateTime                @default(now())
  updatedAt                    DateTime                @updatedAt
  additionalInfo               String?                 @db.Char(1000)
  employmentStatus             EmploymentStatus?
  additionalIncomeAmount       Float?
  additionalIncomeSource       String?
  hasAdditionalIncome          Boolean?                @default(false)
  yearsAtJob                   Int?
  hasPets                      Boolean?                @default(false)
  reasonForMoving              String?
  numberOfOccupants            Int?
  petDescription               String?
  documents                    ActorDocument[]
  commercialReferences         CommercialReference[]
  personalReferences           PersonalReference[]
  addressDetails               PropertyAddress?        @relation("TenantAddress", fields: [addressId], references: [id])
  employerAddressDetails       PropertyAddress?        @relation("TenantEmployerAddress", fields: [employerAddressId], references: [id])
  policy                       Policy                  @relation(fields: [policyId], references: [id], onDelete: Cascade)
  previousRentalAddressDetails PropertyAddress?        @relation("TenantPreviousRentalAddress", fields: [previousRentalAddressId], references: [id])
}

model JointObligor {
  id                           String                  @id @default(cuid())
  policyId                     String
  firstName                    String?
  middleName                   String?
  paternalLastName             String?
  maternalLastName             String?
  nationality                  NationalityType?
  curp                         String?
  rfc                          String?
  passport                     String?
  relationshipToTenant         String?
  companyName                  String?
  companyRfc                   String?
  legalRepFirstName            String?
  legalRepMiddleName           String?
  legalRepPaternalLastName     String?
  legalRepMaternalLastName     String?
  legalRepPosition             String?
  legalRepRfc                  String?
  legalRepPhone                String?
  legalRepEmail                String?
  email                        String
  phone                        String
  workPhone                    String?
  personalEmail                String?
  workEmail                    String?
  address                      String?
  addressId                    String?                 @unique
  employmentStatus             String?
  occupation                   String?
  employerName                 String?
  employerAddress              String?
  employerAddressId            String?                 @unique
  position                     String?
  monthlyIncome                Float?
  incomeSource                 String?
  guaranteeMethod              String?
  hasPropertyGuarantee         Boolean                 @default(false)
  propertyAddress              String?
  guaranteePropertyAddressId   String?                 @unique
  propertyValue                Float?
  propertyDeedNumber           String?
  propertyRegistry             String?
  propertyTaxAccount           String?
  propertyUnderLegalProceeding Boolean                 @default(false)
  bankName                     String?
  accountHolder                String?
  hasProperties                Boolean                 @default(false)
  maritalStatus                String?
  spouseName                   String?
  spouseRfc                    String?
  spouseCurp                   String?
  accessToken                  String?                 @unique
  tokenExpiry                  DateTime?
  informationComplete          Boolean                 @default(false)
  completedAt                  DateTime?
  verificationStatus           ActorVerificationStatus @default(PENDING)
  verifiedAt                   DateTime?
  verifiedBy                   String?
  rejectionReason              String?
  rejectedAt                   DateTime?
  createdAt                    DateTime                @default(now())
  updatedAt                    DateTime                @updatedAt
  additionalInfo               String?                 @db.Char(1000)
  jointObligorType             JointObligorType?       @default(INDIVIDUAL)
  documents                    ActorDocument[]
  commercialReferences         CommercialReference[]
  addressDetails               PropertyAddress?        @relation("JointObligorAddress", fields: [addressId], references: [id])
  employerAddressDetails       PropertyAddress?        @relation("JointObligorEmployerAddress", fields: [employerAddressId], references: [id])
  guaranteePropertyDetails     PropertyAddress?        @relation("JointObligorPropertyAddress", fields: [guaranteePropertyAddressId], references: [id])
  policy                       Policy                  @relation(fields: [policyId], references: [id], onDelete: Cascade)
  personalReferences           PersonalReference[]

  @@index([policyId])
}

model Aval {
  id                           String                  @id @default(cuid())
  policyId                     String
  firstName                    String?
  middleName                   String?
  paternalLastName             String?
  maternalLastName             String?
  nationality                  NationalityType?
  curp                         String?
  rfc                          String?
  passport                     String?
  relationshipToTenant         String?
  companyName                  String?
  companyRfc                   String?
  legalRepFirstName            String?
  legalRepMiddleName           String?
  legalRepPaternalLastName     String?
  legalRepMaternalLastName     String?
  legalRepPosition             String?
  legalRepRfc                  String?
  legalRepPhone                String?
  legalRepEmail                String?
  email                        String
  phone                        String
  workPhone                    String?
  personalEmail                String?
  workEmail                    String?
  address                      String?
  addressId                    String?                 @unique
  employmentStatus             String?
  occupation                   String?
  employerName                 String?
  employerAddress              String?
  employerAddressId            String?                 @unique
  position                     String?
  monthlyIncome                Float?
  incomeSource                 String?
  propertyAddress              String?
  guaranteePropertyAddressId   String?                 @unique
  propertyValue                Float?
  propertyDeedNumber           String?
  propertyRegistry             String?
  propertyTaxAccount           String?
  propertyUnderLegalProceeding Boolean                 @default(false)
  maritalStatus                String?
  spouseName                   String?
  spouseRfc                    String?
  spouseCurp                   String?
  guaranteeMethod              String?
  hasPropertyGuarantee         Boolean                 @default(true)
  accessToken                  String?                 @unique
  tokenExpiry                  DateTime?
  informationComplete          Boolean                 @default(false)
  completedAt                  DateTime?
  verificationStatus           ActorVerificationStatus @default(PENDING)
  verifiedAt                   DateTime?
  verifiedBy                   String?
  rejectionReason              String?
  rejectedAt                   DateTime?
  createdAt                    DateTime                @default(now())
  updatedAt                    DateTime                @updatedAt
  additionalInfo               String?                 @db.Char(1000)
  avalType                     AvalType                @default(INDIVIDUAL)
  documents                    ActorDocument[]
  addressDetails               PropertyAddress?        @relation("AvalAddress", fields: [addressId], references: [id])
  employerAddressDetails       PropertyAddress?        @relation("AvalEmployerAddress", fields: [employerAddressId], references: [id])
  guaranteePropertyDetails     PropertyAddress?        @relation("AvalPropertyAddress", fields: [guaranteePropertyAddressId], references: [id])
  policy                       Policy                  @relation(fields: [policyId], references: [id], onDelete: Cascade)
  commercialReferences         CommercialReference[]
  personalReferences           PersonalReference[]

  @@index([policyId])
}

model PersonalReference {
  id               String        @id @default(cuid())
  firstName        String
  middleName       String?
  paternalLastName String
  maternalLastName String
  phone            String
  homePhone        String?
  cellPhone        String?
  email            String?
  relationship     String
  occupation       String?
  address          String?
  tenantId         String?
  jointObligorId   String?
  avalId           String?
  createdAt        DateTime      @default(now())
  updatedAt        DateTime      @updatedAt
  aval             Aval?         @relation(fields: [avalId], references: [id], onDelete: Cascade)
  jointObligor     JointObligor? @relation(fields: [jointObligorId], references: [id], onDelete: Cascade)
  tenant           Tenant?       @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  @@index([tenantId])
  @@index([jointObligorId])
  @@index([avalId])
}

model CommercialReference {
  id                      String        @id @default(cuid())
  companyName             String
  contactFirstName        String
  contactMiddleName       String?
  contactPaternalLastName String
  contactMaternalLastName String
  phone                   String
  email                   String?
  relationship            String
  yearsOfRelationship     Int?
  tenantId                String?
  jointObligorId          String?
  avalId                  String?
  createdAt               DateTime      @default(now())
  updatedAt               DateTime      @updatedAt
  aval                    Aval?         @relation(fields: [avalId], references: [id], onDelete: Cascade)
  jointObligor            JointObligor? @relation(fields: [jointObligorId], references: [id], onDelete: Cascade)
  tenant                  Tenant?       @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  @@index([tenantId])
  @@index([jointObligorId])
  @@index([avalId])
}

model PropertyAddress {
  id                             String           @id @default(cuid())
  street                         String
  exteriorNumber                 String
  interiorNumber                 String?
  neighborhood                   String
  postalCode                     String
  municipality                   String
  city                           String
  state                          String
  country                        String           @default("MÃ©xico")
  placeId                        String?
  latitude                       Float?
  longitude                      Float?
  formattedAddress               String?
  createdAt                      DateTime         @default(now())
  updatedAt                      DateTime         @updatedAt
  avalPersonal                   Aval?            @relation("AvalAddress")
  avalEmployer                   Aval?            @relation("AvalEmployerAddress")
  avalProperty                   Aval?            @relation("AvalPropertyAddress")
  jointObligor                   JointObligor?    @relation("JointObligorAddress")
  jointObligorEmployer           JointObligor?    @relation("JointObligorEmployerAddress")
  jointObligorProperty           JointObligor?    @relation("JointObligorPropertyAddress")
  landlord                       Landlord?        @relation("LandlordAddress")
  contractSigningPropertyDetails PropertyDetails? @relation("ContractSigningAddress")
  propertyDetails                PropertyDetails?
  tenant                         Tenant?          @relation("TenantAddress")
  tenantEmployer                 Tenant?          @relation("TenantEmployerAddress")
  tenantPreviousRental           Tenant?          @relation("TenantPreviousRentalAddress")
}

model ActorDocument {
  id              String           @id @default(cuid())
  category        DocumentCategory
  documentType    String
  fileName        String
  originalName    String
  fileSize        Int
  mimeType        String
  s3Key           String           @unique
  s3Bucket        String
  s3Region        String?
  landlordId      String?
  tenantId        String?
  jointObligorId  String?
  avalId          String?
  uploadedBy      String?
  verifiedAt      DateTime?
  verifiedBy      String?
  rejectionReason String?
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt
  aval            Aval?            @relation(fields: [avalId], references: [id], onDelete: Cascade)
  jointObligor    JointObligor?    @relation(fields: [jointObligorId], references: [id], onDelete: Cascade)
  landlord        Landlord?        @relation(fields: [landlordId], references: [id], onDelete: Cascade)
  tenant          Tenant?          @relation(fields: [tenantId], references: [id], onDelete: Cascade)

  @@index([s3Key])
  @@index([landlordId])
  @@index([tenantId])
  @@index([jointObligorId])
  @@index([avalId])
}

model PolicyDocument {
  id           String   @id @default(cuid())
  policyId     String
  category     String
  fileName     String
  originalName String
  fileSize     Int
  mimeType     String
  s3Key        String   @unique
  s3Bucket     String
  s3Region     String?
  uploadedBy   String
  version      Int      @default(1)
  isCurrent    Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  policy       Policy   @relation(fields: [policyId], references: [id], onDelete: Cascade)
}

model PolicyActivity {
  id              String   @id @default(cuid())
  policyId        String
  action          String
  description     String
  details         Json?
  performedById   String?
  performedByType String?
  ipAddress       String?
  userAgent       String?
  createdAt       DateTime @default(now())
  policy          Policy   @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([performedById, performedByType])
  @@index([policyId])
  @@index([policyId, createdAt])
}

model Investigation {
  id                String                @id @default(cuid())
  policyId          String                @unique
  verdict           InvestigationVerdict?
  riskLevel         RiskLevel?
  score             Int?
  notes             String?
  findings          Json?
  rejectedBy        String?
  rejectionReason   String?
  rejectedAt        DateTime?
  assignedToId      String?
  assignedToName    String?
  completedBy       String?
  completedAt       DateTime?
  responseTimeHours Int?
  createdAt         DateTime              @default(now())
  updatedAt         DateTime              @updatedAt
  policy            Policy                @relation(fields: [policyId], references: [id], onDelete: Cascade)
}

model Contract {
  id         String    @id @default(cuid())
  policyId   String
  version    Int       @default(1)
  fileName   String
  fileSize   Int
  mimeType   String
  s3Key      String    @unique
  s3Bucket   String
  s3Region   String?
  isCurrent  Boolean   @default(true)
  signedAt   DateTime?
  signedBy   String?
  uploadedBy String
  createdAt  DateTime  @default(now())
  updatedAt  DateTime  @updatedAt
  policy     Policy    @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([policyId, version])
}

model Payment {
  id                String         @id @default(cuid())
  policyId          String
  amount            Float
  currency          String         @default("MXN")
  status            PaymentStatus  @default(PENDING)
  method            PaymentMethod?
  type              PaymentType
  paidBy            PayerType
  stripeIntentId    String?        @unique
  stripeSessionId   String?        @unique
  stripeCustomerId  String?
  isManual          Boolean        @default(false)
  reference         String?
  receiptUrl        String?
  description       String?
  metadata          Json?
  errorMessage      String?
  paidAt            DateTime?
  refundedAt        DateTime?
  refundAmount      Float?
  createdAt         DateTime       @default(now())
  updatedAt         DateTime       @updatedAt
  checkoutUrl       String?
  checkoutUrlExpiry DateTime?
  receiptFileName   String?
  receiptS3Key      String?
  verificationNotes String?
  verifiedAt        DateTime?
  verifiedBy        String?
  createdById       String?
  policy            Policy         @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([policyId])
  @@index([status])
  @@index([type])
}

model Incident {
  id                String         @id @default(cuid())
  policyId          String
  reportedBy        ReporterType
  reporterName      String
  reporterContact   String
  incidentType      String
  description       String
  incidentDate      DateTime
  resolution        String?
  status            IncidentStatus @default(OPEN)
  requiresPayment   Boolean        @default(false)
  paymentAmount     Float?
  isCoveredByPolicy Boolean        @default(true)
  assignedTo        String?
  resolvedBy        String?
  resolvedAt        DateTime?
  createdAt         DateTime       @default(now())
  updatedAt         DateTime       @updatedAt
  policy            Policy         @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([policyId])
  @@index([policyId, status])
}

model ActorSectionValidation {
  id              String           @id @default(cuid())
  actorType       String
  actorId         String
  section         String
  status          ValidationStatus @default(PENDING)
  validatedBy     String?
  validatedAt     DateTime?
  rejectionReason String?
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt

  @@unique([actorType, actorId, section])
  @@index([actorId, actorType])
}

model DocumentValidation {
  id              String           @id @default(cuid())
  documentId      String           @unique
  status          ValidationStatus @default(PENDING)
  validatedBy     String?
  validatedAt     DateTime?
  rejectionReason String?
  createdAt       DateTime         @default(now())
  updatedAt       DateTime         @updatedAt
}

model ReviewNote {
  id         String   @id @default(cuid())
  policyId   String
  actorType  String?
  actorId    String?
  documentId String?
  note       String
  createdBy  String
  createdAt  DateTime @default(now())
  policy     Policy   @relation(fields: [policyId], references: [id], onDelete: Cascade)

  @@index([policyId])
  @@index([actorId, actorType])
}

enum EmploymentStatus {
  EMPLOYED
  SELF_EMPLOYED
  BUSINESS_OWNER
  RETIRED
  STUDENT
  UNEMPLOYED
  OTHER
}

enum UserRole {
  ADMIN
  STAFF
  BROKER
}

enum TenantType {
  INDIVIDUAL
  COMPANY
}

enum AvalType {
  INDIVIDUAL
  COMPANY
}

enum JointObligorType {
  INDIVIDUAL
  COMPANY
}

enum GuarantorType {
  NONE
  JOINT_OBLIGOR
  AVAL
  BOTH
}

enum PropertyType {
  HOUSE
  APARTMENT
  COMMERCIAL
  OFFICE
  WAREHOUSE
  OTHER
}

enum NationalityType {
  MEXICAN
  FOREIGN
}

enum PolicyStatus {
  DRAFT
  COLLECTING_INFO
  UNDER_INVESTIGATION
  INVESTIGATION_REJECTED
  PENDING_APPROVAL
  APPROVED
  CONTRACT_PENDING
  CONTRACT_SIGNED
  ACTIVE
  EXPIRED
  CANCELLED
}

enum PolicyCancellationReason {
  CLIENT_REQUEST
  NON_PAYMENT
  FRAUD
  DOCUMENTATION_ISSUES
  LANDLORD_REQUEST
  TENANT_REQUEST
  OTHER
}

enum DocumentCategory {
  IDENTIFICATION
  INCOME_PROOF
  ADDRESS_PROOF
  BANK_STATEMENT
  PROPERTY_DEED
  TAX_RETURN
  EMPLOYMENT_LETTER
  PROPERTY_TAX_STATEMENT
  MARRIAGE_CERTIFICATE
  COMPANY_CONSTITUTION
  LEGAL_POWERS
  TAX_STATUS_CERTIFICATE
  CREDIT_REPORT
  PROPERTY_REGISTRY
  PROPERTY_APPRAISAL
  PASSPORT
  IMMIGRATION_DOCUMENT
  UTILITY_BILL
  PAYROLL_RECEIPT
  OTHER
}

enum InvestigationVerdict {
  APPROVED
  REJECTED
  HIGH_RISK
  CONDITIONAL
}

enum RiskLevel {
  LOW
  MEDIUM
  HIGH
  VERY_HIGH
}

enum PaymentStatus {
  PENDING
  PROCESSING
  COMPLETED
  FAILED
  REFUNDED
  PARTIAL
  PENDING_VERIFICATION
  CANCELLED
}

enum PaymentMethod {
  CARD
  BANK_TRANSFER
  CASH
  STRIPE
  MANUAL
}

enum PaymentType {
  INVESTIGATION_FEE
  POLICY_PREMIUM
  PARTIAL_PAYMENT
  INCIDENT_PAYMENT
  REFUND
  TENANT_PORTION
  LANDLORD_PORTION
}

enum PayerType {
  TENANT
  LANDLORD
  JOINT_OBLIGOR
  AVAL
  COMPANY
}

enum ReporterType {
  TENANT
  LANDLORD
  JOINT_OBLIGOR
  AVAL
  STAFF
  OTHER
}

enum IncidentStatus {
  OPEN
  IN_PROGRESS
  RESOLVED
  CLOSED
  ESCALATED
}

enum ActorVerificationStatus {
  PENDING
  APPROVED
  REJECTED
  IN_REVIEW
}

enum ValidationStatus {
  PENDING
  APPROVED
  REJECTED
  IN_REVIEW
}

enum RulesType {
  CONDOMINIOS
  COLONOS
  CONDOMINOS
}
